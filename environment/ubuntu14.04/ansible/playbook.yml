- hosts: all
  become: true
  become_method: sudo
  vars:
    username: vagrant
  roles:
    - { role: angstwad.docker_ubuntu,
      docker_opts: "-H tcp://0.0.0.0:4243 -H unix:///var/run/docker.sock --registry-mirror=https://registry.mirror:5000"
    }
    - { role: geerlingguy.git }
  tasks:
    - name: Avoid using sudo when using docker command
      command: usermod -aG docker {{username}}
    - name: Installs vim package
      apt: pkg=vim state=installed update_cache=true
